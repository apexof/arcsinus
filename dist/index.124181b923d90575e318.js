!function(e){function t(t){for(var r,s,l=t[0],i=t[1],c=t[2],p=0,m=[];p<l.length;p++)s=l[p],n[s]&&m.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,l=1;l<a.length;l++){var i=a[l];0!==n[i]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={0:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;o.push([62,1]),a()}({16:function(e,t,a){e.exports={header:"_1JEKvVm5E9RuaGrl_eqdJ9",h1:"_1EdMXJmlnwdOFfqo-V7noF",web:"_2N9O5T0AOjQFqsIIue7NVs",app:"r-fRa7qSQ3elaXxsW5xQD"}},18:function(e,t,a){e.exports={list:"_8Ph1qgvvqjSOkZiFdS2zc",field:"UZEfARnMpumidnf12yq7h",dn:"_9hvzlZDs8HowLUMwl6CUQ"}},19:function(e,t,a){e.exports={window:"_1NiPwTU-oel3xET1kF07c-",overlay:"_3iSLa3Fu2y9pv56ARHncl7",closeButton:"_2zhloFMUMLiiXoP08WdeN-"}},26:function(e,t,a){e.exports={container:"_3dsEcDaoCCytBFsKwXg_SN",notLink:"_1LlWJAVqsFZKfm8c7PX4NA"}},27:function(e,t,a){e.exports={h1:"YnkjpVFBXN0-D5WMUdcls"}},34:function(e,t,a){e.exports={smsButton:"vPzcedFJu4CxI6MK5GvZe"}},35:function(e,t,a){e.exports={img:"_23xnXP_z0WoKBeBjTR2glX"}},36:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAABb0lEQVR42ozSwWuCUBwHcN+jlrHKwIIaRYHBRo0igg56EXr2BwcdghzFYrUgGKP0kAoWJBSOtLI8VDs42opR/i4Pvu99+B3eF+j6stv9MIwV5noAACQZZpgiqNdbFJWKRMIkGXaJ53Nd0xaGsYamuUkmY+12X1VnbuRoJPX7n+l0wjRXEMMwHL+rVOjBYHjTC4KkKFOEaAAAhmHQSQkicNMLgiTLU46jcdznJPB0d90Lgnwhz/AVL4qyLKsInclL7MyFF0VZklSEmOPxePHyDOv6stl8gxA4XlGmw+F4PFYRYixr22i8bjbW/9g01+12n2GKweA9QQQQoicTbbH44jjG7/eRZDiff2o2e7udfSIe57CsHc/3SqXnWCzqJKFQgGXLf/dQVNK2bZ7vVavM7+b9fs/z3Vwuk0o9XP/nbDYTj0dbrfefntZqL4XCI4QwkYi5rKeqzrZbezabA01bdDoDp+4u8eFw8Ho9LFv+HgB3Qbkl+GS6pQAAAABJRU5ErkJggg=="},37:function(e,t,a){e.exports=a.p+"img/spinner.gif"},38:function(e,t,a){e.exports={spinner:"iHcljqRxUbN7hB4a8Al3q"}},39:function(e,t,a){e.exports={container:"_1ZvUawIsdmkul5V2Zqv9qi"}},4:function(e,t,a){e.exports={inputContainer:"_3wwp-0Es6UCRnM5qXPyuag",label:"_1qYrDsxCkrHt-yo3pvd_jZ",input:"_1_-W57PAehTkh-Qyqn-HAh",notValid:"_2D-axpK6RyVEhSn3dv8p6z"}},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(22),s=a.n(o),l=a(5),i=a(11),c=a(12),u=a(10),p=a(13);const m="_START",d="_ERR",f="LOG_IN",b="REG",h="SMS_CHECK",g="CREAR_REG",y="CLEAR_LOGIN";var v=function(e=!1,t){switch(t.type){case m:return!0;default:return!1}};function A(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var E=function(e=!1,t){let{type:a,payload:r}=t,n=A(t,["type","payload"]);switch(a){case f:return r.smsCode&&console.log("Смс код: ",r.smsCode),!r.err||r.errMsg;case y:return!1;case f+d:return console.log(r,n),!1;default:return e}};function O(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var w=function(e=!1,t){let{type:a,payload:r}=t,n=O(t,["type","payload"]);switch(a){case b:return!r.err||r.errMsg;case g:return!1;case b+d:return console.log(r,n),!1;default:return e}};function S(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var j=function(e=!1,t){let{type:a,payload:r}=t,n=S(t,["type","payload"]);switch(a){case h:return!r.err||r.errMsg;case h+d:return console.log(r,n),!1;default:return e}};var q=Object(u.c)({loading:v,loginState:E,registrate:w,smsValid:j});var R=Object(u.e)(q,{loading:!1,loginState:!1,registrate:!1,smsValid:!1},Object(u.a)(p.apiMiddleware)),C=a(1),N=a.n(C),P=a(18),x=a.n(P),M=a(4),F=a.n(M);function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class B extends r.Component{constructor(...e){super(...e),k(this,"state",{val:"",focusInput:!1}),k(this,"handlePen",e=>{this.changeVal(e.target.value)}),k(this,"chooseField",e=>{this.changeVal(e.target.innerHTML)})}static getDerivedStateFromProps({fields:e}){return e.length?null:{val:""}}changeVal(e){this.setState({val:e}),this.props.callback&&this.props.callback(e)}render(){const{fields:e,label:t,name:a,required:r,err:o}=this.props,s=e.filter(e=>e.toUpperCase().startsWith(this.state.val.toUpperCase())).map(e=>n.a.createElement("div",{key:e,onMouseDown:this.chooseField,className:x.a.field},e));return n.a.createElement("div",{className:F.a.inputContainer},n.a.createElement("p",{className:F.a.label},t),n.a.createElement("input",{className:F.a.input,value:this.state.val,type:"text",name:a,autoComplete:"new-password",onChange:this.handlePen,onFocus:()=>this.setState({focusInput:!0}),onBlur:()=>this.setState({focusInput:!1}),required:r}),s.length>0&&n.a.createElement("div",{className:`${x.a.list} ${!this.state.focusInput&&x.a.dn}`},s),n.a.createElement("div",{className:F.a.notValid},o))}}B.propTypes={err:N.a.string,fields:N.a.instanceOf(Array).isRequired,label:N.a.string.isRequired,name:N.a.string.isRequired,callback:N.a.func,required:N.a.bool},B.defaultProps={err:void 0,callback:void 0,required:!1};var T=B;function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _={Russia:["Москва","Рязань","Калуга"],USA:["New York","Texas","California"],France:["Paris","Alpes-Maritimes","Bas-Rhin"]},Q=Object.keys(_);class I extends r.Component{constructor(...e){super(...e),V(this,"state",{cites:[]}),V(this,"getCountry",e=>{this.setState({cites:_[e]||[]})})}render(){const{err:e}=this.props;return n.a.createElement("div",null,n.a.createElement(T,{callback:this.getCountry,err:e.country,fields:Q,label:"Страна",name:"country",required:!0}),n.a.createElement(T,{err:e.city,fields:this.state.cites,label:"Город",name:"city",required:!0}))}}I.propTypes={err:N.a.oneOfType([N.a.bool,N.a.object]).isRequired};var D=I;function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function L({err:e,children:t,id:a,type:r,name:o,props:s}){return n.a.createElement("div",{className:F.a.inputContainer},n.a.createElement("p",{className:F.a.label},t),n.a.createElement("input",X({className:F.a.input,type:r||a,name:o||a},s)),n.a.createElement("div",{className:F.a.notValid},e))}L.propTypes={err:N.a.string,children:N.a.string.isRequired,id:N.a.string,name:N.a.string,type:N.a.string,props:N.a.object},L.defaultProps={err:void 0,id:void 0,name:void 0,type:void 0,props:{}};var U=L,H=a(7),Y=a.n(H);function G(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class J extends n.a.Component{constructor(...e){super(...e),G(this,"state",{}),G(this,"handleSubmit",e=>{e.preventDefault();const t=new FormData(e.target);this.props.registrate(t)})}static getDerivedStateFromProps({clearReg:e,history:t,regState:a}){return!0===a&&(alert("Регистрация прошла успешна. Попробуйте войти в свой аккаунт"),e(),t.replace("/login-page")),null}render(){const{regState:e}=this.props;return n.a.createElement("div",{className:Y.a.container},n.a.createElement("h2",{className:Y.a.formTitle},"Регистрация"),n.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},n.a.createElement(U,{err:e.fio,type:"text",name:"fio",props:{required:!0}},"ФИО"),n.a.createElement(D,{err:e}),n.a.createElement(U,{err:e.tel,id:"tel",props:{minLength:"10",maxLength:"11",placeholder:"Например: 9539055080",pattern:"[0-9]+",title:"Номер телефона должен содержать только цифры",required:!0}},"Телефон"),n.a.createElement(U,{err:e.email,id:"email",props:{required:!0}},"E-mail"),n.a.createElement(U,{err:e.password,id:"password",props:{minLength:"6",pattern:"[a-z0-9]+",title:"Пароль должен содержать латинские буквы и цифры",required:!0}},"Пароль"),n.a.createElement("div",{className:F.a.inputContainer},n.a.createElement("p",{className:F.a.label},"ОС мобильного телефона"),n.a.createElement("select",{className:F.a.input,name:"os"},n.a.createElement("option",null,"Android"),n.a.createElement("option",null,"iOS"))),n.a.createElement("button",{className:Y.a.formButton,type:"submit"},"Войти")))}}J.propTypes={registrate:N.a.func.isRequired,regState:N.a.oneOfType([N.a.bool,N.a.object]).isRequired,clearReg:N.a.func.isRequired,history:N.a.shape({replace:N.a.func.isRequired}).isRequired};var W=Object(c.d)(J);const K={registrate:function(e){return{[p.RSAA]:{method:"POST",endpoint:"/registrate",body:e,types:[m,b,b+d]}}},clearReg:function(){return{type:g}}};var Z=Object(l.b)(e=>({regState:e.registrate}),K)(W);function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $ extends n.a.Component{constructor(...e){super(...e),z(this,"state",{}),z(this,"handleSubmit",e=>{e.preventDefault();const t=new FormData(e.target);this.props.login(t)})}static getDerivedStateFromProps({openModal:e,clearLogin:t,loginState:a}){if(!0===a){e(document.querySelector("input[name='email']").value,t),t()}return null}render(){const{loginState:e}=this.props;return n.a.createElement("div",{className:Y.a.container},n.a.createElement("h2",{className:Y.a.formTitle},"Войдите в свой профиль"),n.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off",className:Y.a.form},n.a.createElement(U,{err:e.email,id:"email",props:{required:!0}},"Логин"),n.a.createElement(U,{err:e.password,id:"password",props:{required:!0}},"Пароль"),n.a.createElement("button",{className:Y.a.formButton,type:"submit"},"Войти")))}}$.propTypes={login:N.a.func.isRequired,clearLogin:N.a.func.isRequired,loginState:N.a.oneOfType([N.a.bool,N.a.object]).isRequired,openModal:N.a.func.isRequired};var ee=$,te=a(34),ae=a.n(te);function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ne extends n.a.Component{constructor(...e){super(...e),re(this,"state",{}),re(this,"handleSubmit",e=>{e.preventDefault();const t=new FormData(e.target);this.props.smsCheck(t)})}static getDerivedStateFromProps({smsValid:e,history:t,closeModal:a}){return!0===e&&(a(),t.replace("/secure-page")),null}render(){const{smsValid:e,user:t}=this.props;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off",className:Y.a.form},n.a.createElement("input",{type:"hidden",name:"email",value:t}),n.a.createElement(U,{err:e.smsCode,type:"number",name:"smsCode",props:{required:!0}},"Введите код из смс"),n.a.createElement("button",{className:`${Y.a.formButton} ${ae.a.smsButton}`,type:"submit"},"Отправить")))}}ne.propTypes={smsValid:N.a.oneOfType([N.a.bool,N.a.object]).isRequired,smsCheck:N.a.func.isRequired,closeModal:N.a.func.isRequired,user:N.a.string.isRequired,history:N.a.shape({replace:N.a.func.isRequired}).isRequired};var oe=Object(c.d)(ne);const se={smsCheck:function(e){return{[p.RSAA]:{method:"POST",endpoint:"/sms-check",body:e,types:[m,h,h+d]}}}};var le=Object(l.b)(e=>({smsValid:e.smsValid}),se)(oe),ie=a(25),ce=a.n(ie),ue=a(19),pe=a.n(ue);function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function de(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fe(e){document.body.style.overflow=e?"auto":"hidden"}ce.a.setAppElement("#root");const be={login:function(e){return{[p.RSAA]:{method:"POST",endpoint:"/login",body:e,types:[m,f,f+d]}}},clearLogin:function(){return{type:y}}},he=Object(l.b)(function(e){return{loginState:e.loginState}},be)(ee);var ge,ye,ve=(ge=he,ye=le,class extends n.a.Component{constructor(...e){super(...e),de(this,"state",{showModal:!1,user:null}),de(this,"openModal",e=>{fe(!1),this.setState({showModal:!0,user:e})}),de(this,"closeModal",()=>{fe(!0),this.setState({showModal:!1})})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(ge,me({},this.props,{openModal:this.openModal})),n.a.createElement(ce.a,{isOpen:this.state.showModal,className:pe.a.window,overlayClassName:pe.a.overlay,onRequestClose:this.closeModal,shouldCloseOnOverlayClick:!0},n.a.createElement("span",{className:pe.a.closeButton,onClick:this.closeModal},"×"),n.a.createElement(ye,me({user:this.state.user},this.props,{closeModal:this.closeModal}))))}}),Ae=a(16),Ee=a.n(Ae);var Oe=function(){return n.a.createElement("header",{className:Ee.a.header},n.a.createElement("h1",{className:Ee.a.h1},n.a.createElement("span",{className:Ee.a.web},"Web"),n.a.createElement("span",{className:Ee.a.app},"App")))},we=a(35),Se=a.n(we),je=a(36),qe=a.n(je);var Re=function(){return n.a.createElement("footer",null,n.a.createElement("nav",null,n.a.createElement("img",{className:Se.a.img,src:qe.a,alt:"Иконка конверта"}),n.a.createElement("span",null,"Написать в поддердку")))},Ce=a(26),Ne=a.n(Ce);function Pe({location:e}){const t="/"===e.pathname,a="/login-page"===e.pathname;return n.a.createElement("div",{className:Ne.a.container},n.a.createElement("div",null,n.a.createElement("a",{href:"/",className:Ne.a.notLink},"Я забыл пароль")),a&&n.a.createElement(i.b,{to:"/"},"Регистрация"),t&&n.a.createElement(i.b,{to:"/login-page"},"Вход"))}Pe.propTypes={location:N.a.shape({pathname:N.a.string.isRequired}).isRequired};var xe=Object(c.d)(Pe),Me=a(37),Fe=a.n(Me),ke=a(38),Be=a.n(ke);function Te(){return n.a.createElement("img",{src:Fe.a,alt:"Загрузка...",className:Be.a.spinner})}var Ve=a(39),_e=a.n(Ve);const Qe=e=>{const t=({loading:t})=>n.a.createElement("div",{className:_e.a.container},t&&n.a.createElement(Te,null),n.a.createElement(Oe,null),n.a.createElement(e,null),n.a.createElement(xe,null),n.a.createElement(Re,null));return t.propTypes={loading:N.a.bool.isRequired},t};Qe.propTypes={FormComponent:N.a.string.isRequired};var Ie=Qe;var De=Object(u.d)(Object(l.b)(function(e){return{loading:e.loading}}),Ie),Xe=a(27),Le=a.n(Xe);class Ue extends n.a.Component{constructor(...e){var t,a,r;super(...e),r={},(a="state")in(t=this)?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r}static getDerivedStateFromProps({smsValid:e,history:t}){return e||(alert("Доступ запрещен"),t.replace("/login-page")),null}render(){return!0===this.props.smsValid?n.a.createElement("h1",{className:Le.a.h1},"Доступ получен"):n.a.createElement("h1",{className:Le.a.h1},"Доступ запрещен")}}Ue.propTypes={smsValid:N.a.oneOfType([N.a.bool,N.a.object]).isRequired,history:N.a.shape({replace:N.a.func.isRequired}).isRequired};var He=Object(c.d)(Ue);var Ye=Object(l.b)(e=>({smsValid:e.smsValid}))(He);a(61);var Ge=function(){return n.a.createElement(l.a,{store:R},n.a.createElement(i.a,null,n.a.createElement(c.a,{exact:!0,path:"/",component:De(Z)}),n.a.createElement(c.a,{exact:!0,path:"/login-page",component:De(ve)}),n.a.createElement(c.a,{exact:!0,path:"/secure-page",component:Ye})))};s.a.render(n.a.createElement(Ge,null),document.getElementById("root"))},7:function(e,t,a){e.exports={container:"_1lMcqI-2fBLnWtycp_beAd",form:"OLfQzXNcmMW01X1Soc7tg",formTitle:"_2zYsCo3IWCS2OCwsYRJTJB",formButton:"_2RNYGlycYY7pAR3PqiBMUy"}}});